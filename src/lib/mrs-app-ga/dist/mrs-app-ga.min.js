/*! mrs-app-ga - v0.5.1 - 2015-06-19 14:40:43 GMT */
angular.module("MRS.App.GoogleAnalytics",[]).config(["$mrsappgoogleanalytics",function(a){"use strict";var b={trackRoutes:!0,accountId:"",trackPrefix:"",pageEvents:["$routeChangeSuccess","$stateChangeSuccess"],ecommerce:{active:!1,currency:"USD"},enhancedLinkAttribution:!1,ignoreFirstPageLoad:!0,scriptPath:""};angular.extend(a,b,a)}]),angular.module("MRS.App.GoogleAnalytics").service("MRSAppGA",["$mrsappgoogleanalyticsConfig","$window","$location","$rootScope",function(a,b,c,d){"use strict";var e,f,g,h,i=this,j=!1,k=a.debug,l="MRS.App.GoogleAnalytics: ",m=a.trackRoutes,n=a.accountId,o=a.trackPrefix,p=a.pageEvents,q=a.ecommerce.active,r=a.ecommerce.currency,s=a.enhancedLinkAttribution,t=a.ignoreFirstPageLoad,u=a.scriptPath;this._logs=[],this.log=function(){k&&console.info(l+"Log:",arguments)},this.getUrl=function(){var a=c.path();return f?a.replace(f,""):a},this.set=function(a,c){b.ga&&b.ga("set",a,c)},this.send=function(a){b.ga&&(b.ga("send",a),this.log("send",a))},this.setPage=function(a){h=void 0!==a?a:i.getUrl(),this.set("page",o+h)},this.getPage=function(){return h},this.trackPage=function(a){b.ga&&(a&&this.setPage(a),b.ga("send","pageview"),this.log("pageview",arguments))},this.trackEvent=function(a,c,d,e,f){b.ga&&(b.ga("send","event",{eventCategory:a,eventAction:c,eventLabel:d,eventValue:e,nonInteraction:f?1:0}),this.log("event",arguments))},this.addTrans=function(a,c,d,e,f,g,h,i,j){if(b.ga){if(!q)return void console.warn(l+"ecommerce no set. Use AnalyticsProvider.setECommerce(true);");b.ga("ecommerce:addTransaction",{id:a,affiliation:c,revenue:d,tax:e,shipping:f,currency:j||r}),this.log("ecommerce:addTransaction",arguments)}},this.addItem=function(a,c,d,e,f,g){b.ga&&(b.ga("ecommerce:addItem",{id:a,name:d,sku:c,category:e,price:f,quantity:g}),this.log("ecommerce:addItem",arguments))},this.trackTrans=function(){b.ga&&(b.ga("ecommerce:send"),this.log("ecommerce:send",arguments))},this._clearTrans=function(){b.ga&&(b.ga("ecommerce:clear"),this.log("ecommerce:clear",arguments))},this.setDimension=this.set,this.removeDimensions=function(a){for(var b=0;b<a.length;b++)this.set(a[b],"")};var v=function(){if(!n)return console.warn(l+"No account id set for Analytics.js");if(!u)return console.warn(l+"Analytics.js not defined");if(function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script",u,"ga"),b.ga("create",n,e),m&&!t&&b.ga("send","pageview",i.getUrl()),q&&b.ga("require","ecommerce","ecommerce.js"),s&&b.ga("require","linkid","linkid.js"),g){var a=document.createElement("script"),c=document.getElementsByTagName("script")[0];a.src="//www.google-analytics.com/cx/api.js?experiment="+g,c.parentNode.insertBefore(a,c)}},w=function(){if(j||(v(),j=!0),m)for(var a=function(){i.trackPage(i.getUrl())},b=0;b<p.length;b++)d.$on(p[b],a)};this.init=function(a){e=a,w()}}]);
//# sourceMappingURL=mrs-app-ga.min.js.map